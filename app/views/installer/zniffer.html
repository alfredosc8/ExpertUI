<!--Zniffer view -->
<div ng-controller="ZnifferController">
     <div ng-controller="SetPromiscuousModeController" ng-init="setPromiscuousMode('SetPromiscuousMode(true)')"></div>
    <div class="page-header"><h1>{{ _t('nav_zniffer')}}</h1></div>
     <!-- Control -->
    <div class="form-inline">
        <div class="form-group">
            <div class="btn-group">
                <button class="btn btn-default" title="Start new trace"
                        ng-class="zniffer.trace === 'start' ? 'btn-success' : ''"
                        ng-disabled="zniffer.trace === 'start'"
                        ng-click="setTrace('start')">
                    <i class="fa fa-play"></i> 
                </button>

                <button class="btn btn-default" title="Pause trace"
                        ng-class="zniffer.trace === 'pause' ? 'btn-warning' : ''"
                        ng-disabled="zniffer.trace === 'pause'"
                        ng-click="setTrace('pause')">
                    <i class="fa fa-pause"></i>
                </button>
                <button class="btn btn-default" title="Stop trace"
                        ng-class="zniffer.trace === 'stop' ? 'btn-danger' : ''"
                        ng-disabled="zniffer.trace === 'stop'"
                        ng-click="setTrace('stop')">
                    <i class="fa fa-stop"></i>
                </button>

            </div>
        </div>
         <!--<i class="fa fa-spinner fa-spin" ng-if="zniffer.spin"></i>-->
    </div>
    <!-- Table -->
    <table class="table table-condensed table-hover">
        <thead>
            <!--<th>#</th>--> 
            <tr>
                <th>&nbsp;</th>
                <!-- date --> 
                <th>{{ _t('date')}}</th>
                <!-- time --> 
                <th>{{ _t('time')}}</th>
                <!-- src --> 
                <th>{{ _t('src')}} </th>
                <!-- dest --> 
                <th>{{ _t('dest')}}</th>
                <!-- speed --> 
                <th>{{ _t('speed')}}</th>
                <!-- speed --> 
                <th>{{ _t('rssi')}}</th>
                <!-- hops --> 
                <th>{{ _t('hops')}}</th>
                <!-- encapsulation -->
                <th>{{ _t('encapsulation')}}</th>
                <!-- application --> 
                <th>{{ _t('application')}}</th>
            </tr>
        </thead>
        <tbody>
            <tr class="zniffer-row-{{v.data}}" ng-repeat="v in zniffer.all| orderBy: '-id' track by $index">
                <td>
                    <i title="{{v.type}}" class="fa fa-long-arrow-right" ng-if="v.type === 'incoming'"></i>
                    <i title="{{v.type}}" class="fa fa-long-arrow-left" ng-if="v.type === 'outgoing'"></i> 
                </td>
                <td>{{v.dateTime.date}}</td>
                <td>{{v.dateTime.time}}</td>
                <td>{{v.src}}</td>
                <td>{{v.dest}}</td>
                <td>{{v.speed||'-'}}</td>
                <td>{{v.rssi||'-'}}</td>
                <td>{{v.hops||'-'}}</td>
                <td>{{v.encaps||'-'}}</td>
                <td title="{{v.bytes}}">{{v.application}} ({{v.bytes|cutText:tue:20}})</td>
            </tr>
        </tbody>
    </table>
     <!--<pre>{{zniffer.all|json}} </pre>--> 
   </div>